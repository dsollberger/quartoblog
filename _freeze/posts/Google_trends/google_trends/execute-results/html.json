{
  "hash": "01b3f41a26a50cb534a2eea16b5ecf33",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Google Trends\"\nauthor: \"Derek Sollberger\"\ndate: \"2025-12-29\"\nformat:\n  html:\n    toc: true\n---\n\n\n\n# Goal\n\nI haven't looked at Google Trends in a while.  First, let's see if the API still works (for R programmers), and then try to replicate Angsar Wolsing's infographic about what was trending in 2025.\n\n# Package\n\nThe `gtrendsR` package was created by Philippe Massicotte\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"gtrendsR\")\nlibrary(\"ggridges\")\nlibrary(\"gtrendsR\")\nlibrary(\"tidyverse\")\n```\n:::\n\n\n\n\n# Topics\n\nFor lack of a better idea at the moment, we manually check what were the most \"rising\" topics monthly directly on the [Google Trends](https://trends.google.com/trends/explore?geo=US&hl=en) website, and note them here.  That is, I simply changed the window in \"Custom Time Range\" for a month at a time. (I also took liberties to avoid some politics.)\n\n1. LA fires\n2. Michelle Trachtenberg\n3. March Madness\n4. quantum superposition\n5. Pacers vs Knicks\n6. Anne Burrell\n7. Coldplay\n8. Hurricane Erin\n9. Jimmy Kimmel\n10. Blue Jays vs Dodgers\n11. Ohio State vs Michigan\n12. Rob Reiner\n\n# Extraction\n\nNow, we can use the `gtrends` function to get the data about each of those topics.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\njan_topic <- gtrends(\"la fires\")\nfeb_topic <- gtrends(\"michelle trachtenberg\")\nmar_topic <- gtrends(\"march madness\")\napr_topic <- gtrends(\"quantum superposition\")\nmay_topic <- gtrends(\"pacers vs knicks\")\njun_topic <- gtrends(\"anne burrell\")\njul_topic <- gtrends(\"coldplay\")\naug_topic <- gtrends(\"hurricane erin\")\nsep_topic <- gtrends(\"jimmy kimmel\")\noct_topic <- gtrends(\"blue jays vs dodgers\")\nnov_topic <- gtrends(\"ohio state vs michigan\")\ndec_topic <- gtrends(\"rob reiner\")\n```\n:::\n\n\n\nThis took a couple of minutes, so let's try not to ask for the scraping again.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_raw <- rbind(jan_topic$interest_over_time,\n                feb_topic$interest_over_time,\n                mar_topic$interest_over_time,\n                apr_topic$interest_over_time,\n                may_topic$interest_over_time,\n                jun_topic$interest_over_time,\n                jul_topic$interest_over_time,\n                aug_topic$interest_over_time,\n                sep_topic$interest_over_time,\n                oct_topic$interest_over_time,\n                nov_topic$interest_over_time,\n                dec_topic$interest_over_time)\n\nsaveRDS(df_raw, \"df_raw.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_raw <- readRDS(\"df_raw.rds\")\n```\n:::\n\n\n\n\n# Wrangling\n\nI want to focus on the year 2025, and I will eventually use \"week number\" as the horizontal axis (since it was weekly data).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df_raw |>\n  separate(date, sep = \"-\", into = c(\"year\", \"month\", \"day\")) |>\n  filter(year == 2025) |>\n  select(month, day, hits, keyword)\n  # arrange(month, day)\n\ndf$week <- rep(1:52, 12)\n```\n:::\n\n\n\nThe data says \"< 1\" when virtually no data was collected.  Let's impute that to zero (for numerical calculations).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf$hits[df$hits == \"<1\"] <- 0\ndf$hits <- as.numeric(df$hits)\n```\n:::\n\n\n\nAlso, we can use a factor variable to put the topics in chronological order (rather than alphabetical order)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf$keyword <- factor(df$keyword,\n                     levels = rev(c(\"la fires\", \"michelle trachtenberg\",\n                                \"march madness\", \"quantum superposition\",\n                                \"pacers vs knicks\", \"anne burrell\",\n                                \"coldplay\", \"hurricane erin\",\n                                \"jimmy kimmel\", \"blue jays vs dodgers\",\n                                \"ohio state vs michigan\", \"rob reiner\")))\n```\n:::\n\n\n\n\n# Ridges\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf |>\n  ggplot(aes(x = week, y = keyword, \n             fill = keyword, height = hits)) +\n  ggridges::geom_density_ridges(stat = \"identity\") +\n  labs(title = \"Year 2025 in Trends\",\n       subtitle = \"Monthly Hot Topics\",\n       caption = \"Derek Sollberger\\nSource: Google Trends\") +\n  scale_x_continuous(name = \"week\", limits = c(1,52)) +\n  scale_y_discrete(labels = rev(c(\"LA fires\", \"Michelle Trachtenberg\",\n                                \"March Madness\", \"Quantum superposition\",\n                                \"Pacers vs Knicks\", \"Anne Burell\",\n                                \"Coldplay\", \"Hurricane Erin\",\n                                \"Jimmy Kimmel\", \"Blue Jays vs Dodgers\",\n                                \"Ohio State vs Michigan\", \"Rob Reiner\"))) +\n  theme_minimal() +\n  theme(axis.title.y = element_blank(),\n        legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](google_trends_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n::: {.callout-note collapse=\"true\"}\n## Session Info\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsessionInfo()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.5.1 (2025-06-13 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 10 x64 (build 19045)\n\nMatrix products: default\n  LAPACK version 3.12.1\n\nlocale:\n[1] LC_COLLATE=English_United States.utf8 \n[2] LC_CTYPE=English_United States.utf8   \n[3] LC_MONETARY=English_United States.utf8\n[4] LC_NUMERIC=C                          \n[5] LC_TIME=English_United States.utf8    \n\ntime zone: America/New_York\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n [1] lubridate_1.9.4 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    \n [5] purrr_1.1.0     readr_2.1.5     tidyr_1.3.1     tibble_3.3.0   \n [9] ggplot2_4.0.0   tidyverse_2.0.0 gtrendsR_1.5.2  ggridges_0.5.6 \n\nloaded via a namespace (and not attached):\n [1] gtable_0.3.6       jsonlite_2.0.0     compiler_4.5.1     tidyselect_1.2.1  \n [5] scales_1.4.0       yaml_2.3.10        fastmap_1.2.0      R6_2.6.1          \n [9] labeling_0.4.3     generics_0.1.4     knitr_1.50         htmlwidgets_1.6.4 \n[13] pillar_1.11.0      RColorBrewer_1.1-3 tzdb_0.5.0         rlang_1.1.6       \n[17] stringi_1.8.7      xfun_0.52          S7_0.2.0           timechange_0.3.0  \n[21] cli_3.6.5          withr_3.0.2        magrittr_2.0.3     digest_0.6.37     \n[25] grid_4.5.1         rstudioapi_0.17.1  hms_1.1.3          lifecycle_1.0.4   \n[29] vctrs_0.6.5        evaluate_1.0.4     glue_1.8.0         farver_2.1.2      \n[33] rmarkdown_2.29     tools_4.5.1        pkgconfig_2.0.3    htmltools_0.5.8.1 \n```\n\n\n:::\n:::\n\n\n:::\n\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\t\n:::\n\n::: {.column width=\"10%\"}\n\t\n:::\n\n::: {.column width=\"45%\"}\n\n:::\n\n::::\n\n::::: {.panel-tabset}\n\n\n\n:::::",
    "supporting": [
      "google_trends_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}