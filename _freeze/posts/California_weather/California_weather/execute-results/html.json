{
  "hash": "4008c9712f49bb869394d089cde92b83",
  "result": {
    "markdown": "---\ntitle: \"California Weather\"\nauthor: \"Derek Sollberger\"\ndate: \"2023-01-25\"\nformat: html\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(\"tidyverse\")\n```\n:::\n\n\nI want to create and visualize a simple data set for my Data Science courses (that I teach in California).\n\n# Data Source\n\n* University of California\n* Agriculture and Natural Resources\n* Statewide Integrated Pest Management Program\n* https://ipm.ucanr.edu/WEATHER/wxactstnames.html\n\n# Fixed-Width Files\n\nToday I learned how to read `fixed-width files` in the [Tidyverse](https://readr.tidyverse.org/).  From there, I simply need to give the columns easy-to-use names.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nLA_df <- readr::read_fwf(\"LA_2022.txt\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 365 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\n\nchr  (4): X1, X4, X7, X9\ndbl  (4): X3, X5, X6, X8\ntime (1): X2\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ncolnames(LA_df) <- c(\"date\", \"time\", \"precipitation\",\n                     \"check1\", \"high\", \"low\", \"check2\", \"solar\", \"check3\")\nLA_df$city <- \"Los Angeles\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMerced_df <- readr::read_fwf(\"Merced_2022.txt\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 365 Columns: 16\n── Column specification ────────────────────────────────────────────────────────\n\nchr   (4): X1, X4, X7, X12\ndbl  (11): X3, X5, X6, X8, X9, X10, X11, X13, X14, X15, X16\ntime  (1): X2\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ncolnames(Merced_df) <- c(\"date\", \"time\", \"precipitation\",\n                         \"check1\", \"high\", \"low\", \"check2\")\nMerced_df$city <- \"Merced\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nSF_df <- readr::read_fwf(\"SF_2022.txt\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 365 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\n\nchr  (3): X1, X4, X7\ndbl  (3): X3, X5, X6\ntime (1): X2\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\ncolnames(SF_df) <- c(\"date\", \"time\", \"precipitation\",\n                     \"check1\", \"high\", \"low\", \"check2\")\nSF_df$city <- \"San Francisco\"\n```\n:::\n\n\n# Merge\n\nSome of the weather stations had collected more information than others.  That is, if the weather station was newer, then it had more instruments.\n\nFor today's quick exploration, I actually do want to perform a quick `rbind`, and that requires that each of the 3 data frames have the same number of columns (and should be the same types of information too).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nLA_df <- LA_df |>\n  select(city, date, time, high, low, precipitation)\nMerced_df <- Merced_df |>\n  select(city, date, time, high, low, precipitation)\nSF_df <- SF_df |>\n  select(city, date, time, high, low, precipitation)\n\nCA_weather_data <- rbind(LA_df, Merced_df, SF_df)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# write_csv(CA_weather_data, \"CA_weather_data.csv\")\n```\n:::\n\n\n\n# Data Viz\n\nNow, boxplots are easy to make.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nCA_weather_data |>\n  ggplot(aes(y = high)) +\n  geom_boxplot() +\n  labs(title = \"California Weather, High Temperatures\",\n       subtitle = \"(all together)\",\n       caption = \"Source: UC\\nAgriculture and Natural Resources\\nStatewide Integrated Pest Management Program\")\n```\n\n::: {.cell-output-display}\n![](California_weather_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nCA_weather_data |>\n  ggplot(aes(x = city, y = high, fill = city)) +\n  geom_boxplot() +\n  labs(title = \"California Weather, High Temperatures\",\n       subtitle = \"(separate groups)\",\n       caption = \"Source: UC\\nAgriculture and Natural Resources\\nStatewide Integrated Pest Management Program\")\n```\n\n::: {.cell-output-display}\n![](California_weather_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n# Sample\n\nFor the creation of a classroom example, I want to randomly select 43 observations from the Merced data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMerced_sample <- sort(sample(Merced_df$high, 43, replace = FALSE))\ndput(Merced_sample)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nc(53, 53, 55, 58, 58, 60, 60, 61, 62, 65, 67, 68, 70, 70, 71, \n72, 74, 75, 77, 82, 82, 83, 84, 84, 87, 87, 88, 90, 91, 91, 92, \n92, 93, 93, 94, 95, 96, 96, 98, 99, 101, 101, 105)\n```\n:::\n:::\n",
    "supporting": [
      "California_weather_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}